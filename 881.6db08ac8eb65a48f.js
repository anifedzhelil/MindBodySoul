"use strict";(self.webpackChunkMindBodySoul=self.webpackChunkMindBodySoul||[]).push([[881],{5262:(h3,T,r)=>{r.r(T),r.d(T,{AdminModule:()=>z3});var u=r(2881),p=r(5207),c=r(1360),g=r(5095),I=r(2499),d=r(1616),l=r(4341);function l1(n,i){1&n&&(c.j41(0,"p",15),c.EFF(1," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),c.k0s())}function s1(n,i){if(1&n&&(c.qex(0),c.DNE(1,l1,2,0,"p",14),c.bVm()),2&n){c.XpG();const e=c.sdS(9);c.R7$(),c.Y8G("ngIf",null==e||null==e.errors?null:e.errors.required)}}function r1(n,i){if(1&n&&c.nrm(0,"img",16),2&n){const e=c.XpG();c.Y8G("src",e.previewUrl,c.B4B)}}function u1(n,i){1&n&&(c.j41(0,"div",15),c.EFF(1,"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430!"),c.k0s())}function f1(n,i){if(1&n&&(c.qex(0),c.DNE(1,u1,2,0,"div",14),c.bVm()),2&n){const e=c.XpG();c.R7$(),c.Y8G("ngIf",!e.file)}}function d1(n,i){1&n&&(c.j41(0,"p",17)(1,"span"),c.EFF(2,"\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u0438 \u0434\u0430\u043d\u043d\u0438!"),c.k0s()())}let m1=(()=>{class n{ngOnInit(){}constructor(e,o,t){this.categoryService=e,this.cloudinaryService=o,this.router=t,this.previewUrl=null,this.invalid=!1,this.model={name:"",urlHandle:"",image:""}}ngOnDestroy(){this.addCategorySubscrision?.unsubscribe()}onFormSubmit(e){e.invalid&&this.file?this.invalid=!0:(this.invalid=!1,this.file&&this.cloudinaryService.uploadImage(this.file).subscribe(o=>{this.model.image=o.secure_url,this.model.urlHandle="urlHandle",this.addCategorySubscrision=this.categoryService.addCategory(this.model).subscribe({next:t=>{this.router.navigateByUrl("/admin")},error:t=>{console.log(t)}})}))}onFileUploadChange(e){const o=e.currentTarget;o.files&&o.files.length>0?(this.file=o.files?.[0],this.previewUrl=URL.createObjectURL(this.file)):this.file=void 0}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(g.M),c.rXU(I.G),c.rXU(d.Ix))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-add-category"]],standalone:!1,decls:21,vars:5,consts:[["form","ngForm"],["inputCategoryName","ngModel"],["inputImage","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"field"],["for","name"],["type","text","id","categoryName","name","categoryName","required","",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","image"],["alt","Article Image","on","",3,"src",4,"ngIf"],["type","file","id","image","ngModel","","name","image",3,"change"],["type","submit","value","\u0417\u0430\u043f\u0430\u0437\u0438"],["class","field error",4,"ngIf"],["class","error",4,"ngIf"],[1,"error"],["alt","Article Image","on","",3,"src"],[1,"field","error"]],template:function(o,t){if(1&o){const a=c.RV6();c.j41(0,"div",3)(1,"form",4,0),c.bIt("ngSubmit",function(){c.eBV(a);const s=c.sdS(2);return c.Njj(t.onFormSubmit(s))}),c.j41(3,"h2"),c.EFF(4,"\u0414\u043e\u0431\u0430\u0432\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),c.k0s(),c.j41(5,"p",5)(6,"label",6),c.EFF(7,"\u0418\u043c\u0435"),c.k0s(),c.j41(8,"input",7,1),c.mxI("ngModelChange",function(s){return c.eBV(a),c.DH7(t.model.name,s)||(t.model.name=s),c.Njj(s)}),c.k0s()(),c.DNE(10,s1,2,1,"ng-container",8),c.j41(11,"p",5)(12,"label",9),c.EFF(13,"\u0421\u043d\u0438\u043c\u043a\u0430"),c.k0s(),c.DNE(14,r1,1,1,"img",10),c.j41(15,"input",11,2),c.bIt("change",function(s){return c.eBV(a),c.Njj(t.onFileUploadChange(s))}),c.k0s()(),c.DNE(17,f1,2,1,"ng-container",8),c.j41(18,"p",5),c.nrm(19,"input",12),c.k0s(),c.DNE(20,d1,3,0,"p",13),c.k0s()()}if(2&o){const a=c.sdS(9),f=c.sdS(16);c.R7$(8),c.R50("ngModel",t.model.name),c.R7$(2),c.Y8G("ngIf",a.touched),c.R7$(4),c.Y8G("ngIf",t.previewUrl),c.R7$(3),c.Y8G("ngIf",f.touched),c.R7$(3),c.Y8G("ngIf",t.invalid)}},dependencies:[u.bT,l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV],styles:[".form-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #aaa;box-shadow:0 0 1em #0003;margin:20px auto 0;padding:3em;max-width:600px;border-radius:3px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;flex-shrink:1;padding-top:1.5em}input[type=select][_ngcontent-%COMP%], select[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{max-width:100%}.error[_ngcontent-%COMP%]{color:red}@media screen and (max-width: 800px){.form-container[_ngcontent-%COMP%]{max-width:450px}}@media screen and (max-width: 600px){.form-container[_ngcontent-%COMP%]{padding:2em;border:none;box-shadow:none;margin:0 auto;max-width:100%}input[type=submit][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{width:100%;max-width:100%}}.add-form[_ngcontent-%COMP%]{background-color:#fff}img[_ngcontent-%COMP%]{width:150px}"]})}}return n})();function p1(n,i){1&n&&(c.j41(0,"p",17),c.EFF(1," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),c.k0s())}function g1(n,i){if(1&n&&(c.qex(0),c.DNE(1,p1,2,0,"p",16),c.bVm()),2&n){c.XpG();const e=c.sdS(9);c.R7$(),c.Y8G("ngIf",null==e||null==e.errors?null:e.errors.required)}}function C1(n,i){if(1&n&&c.nrm(0,"img",18),2&n){const e=c.XpG(2);c.FS9("src",e.category.image,c.B4B)}}function M1(n,i){if(1&n&&c.nrm(0,"img",19),2&n){const e=c.XpG(2);c.Y8G("src",e.previewUrl,c.B4B)}}function z1(n,i){1&n&&(c.j41(0,"p",17),c.EFF(1,"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430!"),c.k0s())}function h1(n,i){if(1&n&&(c.qex(0),c.DNE(1,z1,2,0,"p",16),c.bVm()),2&n){const e=c.XpG(2);c.R7$(),c.Y8G("ngIf",!e.file)}}function _1(n,i){if(1&n){const e=c.RV6();c.qex(0),c.j41(1,"form",6,1),c.bIt("ngSubmit",function(){c.eBV(e);const t=c.XpG();return c.Njj(t.onFormSubmit())}),c.j41(3,"h2"),c.EFF(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),c.k0s(),c.j41(5,"p",7)(6,"label",8),c.EFF(7,"\u0418\u043c\u0435"),c.k0s(),c.j41(8,"input",9,2),c.mxI("ngModelChange",function(t){c.eBV(e);const a=c.XpG();return c.DH7(a.category.name,t)||(a.category.name=t),c.Njj(t)}),c.k0s()(),c.DNE(10,g1,2,1,"ng-container",10),c.j41(11,"p",7)(12,"label",11),c.EFF(13,"\u0421\u043d\u0438\u043c\u043a\u0430"),c.k0s(),c.DNE(14,C1,1,1,"img",12)(15,M1,1,1,"img",13),c.j41(16,"input",14,3),c.bIt("change",function(t){c.eBV(e);const a=c.XpG();return c.Njj(a.onFileSelected(t))}),c.k0s()(),c.DNE(18,h1,2,1,"ng-container",10),c.j41(19,"p",7),c.nrm(20,"input",15),c.k0s()(),c.bVm()}if(2&n){const e=c.sdS(9),o=c.sdS(17),t=c.XpG();c.R7$(8),c.R50("ngModel",t.category.name),c.R7$(2),c.Y8G("ngIf",e.touched),c.R7$(4),c.Y8G("ngIf",!t.previewUrl),c.R7$(),c.Y8G("ngIf",t.previewUrl),c.R7$(3),c.Y8G("ngIf",o.touched)}}function L1(n,i){1&n&&(c.j41(0,"div",20)(1,"div",21),c.EFF(2,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u043d\u0435 \u0435 \u043d\u0430\u043c\u0435\u0440\u0430\u043d\u0430!"),c.k0s()())}let x1=(()=>{class n{constructor(e,o,t,a){this.route=e,this.categoryService=o,this.cloudinaryService=t,this.router=a,this.category={name:"",image:"",urlHandle:"",id:" "},this.id=null,this.previewUrl=null,this.file=null,this.categoryNotFound=!1}ngOnInit(){this.route.paramMap.subscribe({next:e=>{this.id=e.get("id"),null!=this.id&&this.categoryService.getCategoryById(this.id).subscribe({next:o=>{this.category=o,this.categoryNotFound=!1},error:o=>{this.categoryNotFound=!0}})}})}onFormSubmit(){this.previewUrl&&this.file?this.cloudinaryService.uploadImage(this.file).subscribe({next:e=>{this.updateCategory(e.secure_url)}}):this.updateCategory(this.category?.image)}updateCategory(e){this.id&&(this.editCategorySubscription=this.categoryService.updateCategory(this.id,{name:this.category?.name??"",UrlHandle:this.category?.urlHandle??"",image:e??""}).subscribe({next:t=>{this.router.navigateByUrl("/admin/categories")}}))}onFileSelected(e){const o=e.target;o.files&&o.files.length>0&&(this.file=o.files[0],this.previewUrl=URL.createObjectURL(this.file))}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(d.nX),c.rXU(g.M),c.rXU(I.G),c.rXU(d.Ix))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-edit-category"]],standalone:!1,decls:4,vars:2,consts:[["notFound",""],["form","ngForm"],["inputCategoryName","ngModel"],["inputImage","ngModel"],[1,"form-container"],[4,"ngIf","ngIfElse"],[3,"ngSubmit"],[1,"field"],["for","name"],["type","text","id","categoryName","name","categoryName","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","image"],["name","image",3,"src",4,"ngIf"],["alt","Category Image","on","",3,"src",4,"ngIf"],["type","file","id","newImage","name","newimage","ngModel","",3,"change"],["type","submit","value","\u0417\u0430\u043f\u0430\u0437\u0438"],["class","error",4,"ngIf"],[1,"error"],["name","image",3,"src"],["alt","Category Image","on","",3,"src"],[1,"container"],[1,"not-found"]],template:function(o,t){if(1&o&&(c.j41(0,"div",4),c.DNE(1,_1,21,5,"ng-container",5)(2,L1,3,0,"ng-template",null,0,c.C5r),c.k0s()),2&o){const a=c.sdS(3);c.R7$(),c.Y8G("ngIf",!t.categoryNotFound)("ngIfElse",a)}},dependencies:[u.bT,l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV],styles:[".form-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #aaa;box-shadow:0 0 1em #0003;margin:20px auto 0;padding:3em;max-width:600px;border-radius:3px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;flex-shrink:1;padding-top:1.5em}input[type=select][_ngcontent-%COMP%], select[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{max-width:100%}.error[_ngcontent-%COMP%]{color:red}@media screen and (max-width: 800px){.form-container[_ngcontent-%COMP%]{max-width:450px}}@media screen and (max-width: 600px){.form-container[_ngcontent-%COMP%]{padding:2em;border:none;box-shadow:none;margin:0 auto;max-width:100%}input[type=submit][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{width:100%;max-width:100%}}.container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.not-found[_ngcontent-%COMP%]{border:1px solid rgb(145,146,122);background-color:#fcfdd6;width:100%;text-align:center;padding:2em;font-size:16px}img[_ngcontent-%COMP%]{width:150px}"]})}}return n})(),b1=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-admin-dashboard"]],standalone:!1,decls:9,vars:3,consts:[[1,"tabs"],[1,"tab-button","active",3,"routerLink"],[1,"tab-button",3,"routerLink"],[1,"center-wrapper"]],template:function(o,t){1&o&&(c.j41(0,"div",0)(1,"button",1),c.EFF(2," \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 "),c.k0s(),c.j41(3,"button",2),c.EFF(4," \u041f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 "),c.k0s(),c.j41(5,"button",2),c.EFF(6,"\u0422\u0430\u0433\u043e\u0432\u0435"),c.k0s()(),c.j41(7,"div",3),c.nrm(8,"router-outlet"),c.k0s()),2&o&&(c.R7$(),c.Y8G("routerLink","/admin/categories"),c.R7$(2),c.Y8G("routerLink","/admin/subcategories"),c.R7$(2),c.Y8G("routerLink","/admin/tags"))},dependencies:[d.n3,p.Wk],styles:[".tabs[_ngcontent-%COMP%]{display:flex;border-bottom:2px solid #ccc;margin-bottom:1em}.tab-button[_ngcontent-%COMP%]{background-color:transparent;border:none;border-bottom:3px solid transparent;padding:1em;cursor:pointer;font-size:1.3em;font-weight:700;color:#333333c3;transition:border-bottom .3s ease}.tab-button[_ngcontent-%COMP%]:hover{border-bottom:3px solid #2197a4;color:#2197a4}.tab-button.active[_ngcontent-%COMP%]{border-bottom:3px solid #2197a4;color:#2197a4;font-weight:700}@media (max-width: 600px){.tab-button[_ngcontent-%COMP%]{font-size:.9em;padding:.8em}}.center-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})}}return n})();var h=r(5383);const C={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9zM80 128l0 304c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-304L80 128zm80 64l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16z"]},M={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z"]};var k=r(809),z=r(60),N=r(2197);function v6(n,i){if(1&n){const e=c.RV6();c.j41(0,"div",1)(1,"div",2)(2,"div",3),c.nrm(3,"fa-icon",4),c.k0s(),c.j41(4,"div",5)(5,"div")(6,"h3"),c.EFF(7),c.k0s()(),c.j41(8,"div")(9,"input",6),c.bIt("click",function(){c.eBV(e);const t=c.XpG();return c.Njj(t.onClose())}),c.k0s()()()()()}if(2&n){const e=c.XpG();c.R7$(3),c.Y8G("icon",e.faTriangleExclamation),c.R7$(4),c.JRh(e.errorMessage)}}let A=(()=>{class n{constructor(){this.close=new c.bkB,this.faTriangleExclamation=h.JAe}onClose(){this.close.emit()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-error-message"]],inputs:{isHidden:"isHidden",errorMessage:"errorMessage"},outputs:{close:"close"},standalone:!1,decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"icon-content"],[1,"icon-delete",3,"icon"],[1,"message"],["type","button","value","\u0417\u0430\u0442\u0432\u043e\u0440\u0438",1,"button-close",3,"click"]],template:function(o,t){1&o&&c.DNE(0,v6,10,2,"div",0),2&o&&c.Y8G("ngIf",t.isHidden)},dependencies:[u.bT,z.aY],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center}.icon-delete[_ngcontent-%COMP%]{color:#e74c3c;font-size:2rem}h3[_ngcontent-%COMP%]{margin:20px}.error[_ngcontent-%COMP%]{padding:20px}.icon-content[_ngcontent-%COMP%]{width:100px;border-radius:50%;border:1px solid #ccc;height:100px;display:flex;align-items:center;justify-content:center}.button-close[_ngcontent-%COMP%]{background-color:#ccc;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;width:150px}"]})}}return n})();var E=r(8108);const w6=n=>["/admin/edit-category",n];function T6(n,i){if(1&n){const e=c.RV6();c.j41(0,"tr")(1,"th",8),c.EFF(2),c.k0s(),c.j41(3,"th"),c.nrm(4,"img",9),c.k0s(),c.j41(5,"th",8)(6,"a",10),c.nrm(7,"fa-icon",11),c.k0s(),c.j41(8,"a")(9,"fa-icon",12),c.bIt("click",function(){const t=c.eBV(e).$implicit,a=c.XpG(2);return c.Njj(a.onDelete(t.id))}),c.k0s()()()()}if(2&n){const e=i.$implicit,o=c.XpG(2);c.R7$(2),c.JRh(e.name),c.R7$(2),c.Y8G("src",e.image,c.B4B),c.R7$(2),c.Y8G("routerLink",c.eq3(5,w6,e.id)),c.R7$(),c.Y8G("icon",o.faPenToSquare),c.R7$(2),c.Y8G("icon",o.faTrashCan)}}function I6(n,i){if(1&n&&(c.qex(0),c.j41(1,"table")(2,"thead")(3,"tr")(4,"th"),c.EFF(5,"\u0418\u043c\u0435"),c.k0s(),c.j41(6,"th"),c.EFF(7,"\u0421\u043d\u0438\u043c\u043a\u0430"),c.k0s(),c.nrm(8,"th"),c.k0s()(),c.j41(9,"tbody"),c.DNE(10,T6,10,7,"tr",7),c.k0s()(),c.bVm()),2&n){const e=c.XpG();c.R7$(10),c.Y8G("ngForOf",e.categories)}}let o1=(()=>{class n{constructor(e,o,t){this.categoryService=e,this.loaderService=o,this.router=t,this.categories=[],this.hideDeleteConformation=!1,this.hideMessageError=!1,this.errorMessage="",this.faPen=h.hpd,this.faPenToSquare=M,this.faTrashCan=C}ngOnInit(){this.loadCategories()}addCategory(){this.router.navigateByUrl("/admin/add-category")}onDelete(e){this.categoryId=e,this.hideDeleteConformation=!0}handleDelete(){this.hideDeleteConformation=!1,this.categoryId&&this.categoryService.deleteCategory(this.categoryId).subscribe({next:e=>{this.loadCategories()},error:e=>{400===e.status&&(console.log(e.error),this.hideMessageError=!0,this.errorMessage=e.error)}})}handleCancel(){this.hideDeleteConformation=!1}loadCategories(){this.loaderService.showLoader(),this.categoryService.getAllCategories().subscribe({next:e=>{this.categories=e,this.loaderService.hideLoader()}})}handleClose(){this.hideMessageError=!1}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(g.M),c.rXU(k.Z),c.rXU(d.Ix))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-admin-categories-list"]],standalone:!1,decls:8,vars:4,consts:[[1,"container"],[1,"list"],[1,"title"],["type","submit","value","\u0414\u043e\u0431\u0430\u0432\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",3,"click"],[4,"ngIf"],[3,"delete","cancel","isHidden"],[3,"close","isHidden","errorMessage"],[4,"ngFor","ngForOf"],[1,"text-content"],["alt","",3,"src"],[1,"editIcon",3,"routerLink"],[3,"icon"],[3,"click","icon"]],template:function(o,t){1&o&&(c.nrm(0,"app-loader"),c.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),c.bIt("click",function(){return t.addCategory()}),c.k0s()(),c.DNE(5,I6,11,1,"ng-container",4),c.k0s()(),c.j41(6,"app-delete-conformation",5),c.bIt("delete",function(){return t.handleDelete()})("cancel",function(){return t.handleCancel()}),c.k0s(),c.j41(7,"app-error-message",6),c.bIt("close",function(){return t.handleClose()}),c.k0s()),2&o&&(c.R7$(5),c.Y8G("ngIf",t.categories),c.R7$(),c.Y8G("isHidden",t.hideDeleteConformation),c.R7$(),c.Y8G("isHidden",t.hideMessageError)("errorMessage",t.errorMessage))},dependencies:[u.Sq,u.bT,p.Wk,z.aY,N.M,A,E.V],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:1px 1px 2px 2px #0000001a;font-size:16px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #f1f0f0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#dbe7eb}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 30px}.text-content[_ngcontent-%COMP%]{padding:10px 30px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f8f8}tr[_ngcontent-%COMP%]:hover{background-color:#eff3f5}.editIcon[_ngcontent-%COMP%]{padding-right:2em}.container[_ngcontent-%COMP%]{width:1400px;display:flex;justify-content:center}.title[_ngcontent-%COMP%]{justify-content:right;display:flex}.list[_ngcontent-%COMP%]{flex:0 0 80%}img[_ngcontent-%COMP%]{width:120px}@media screen and (max-width: 1400px){.container[_ngcontent-%COMP%]{width:1000px}}@media screen and (max-width: 1000px){.container[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 600px){.container[_ngcontent-%COMP%]{max-width:100%}}"]})}}return n})();var v=r(101),P6=r(3753);const O6=n=>["/admin/edit-subcategory",n];function j6(n,i){if(1&n){const e=c.RV6();c.j41(0,"tr")(1,"th",8),c.EFF(2),c.k0s(),c.j41(3,"th",8),c.EFF(4),c.k0s(),c.j41(5,"th"),c.nrm(6,"app-awesome-icons",9),c.k0s(),c.j41(7,"th",8)(8,"a",10),c.nrm(9,"fa-icon",11),c.k0s(),c.j41(10,"a",12),c.bIt("click",function(){const t=c.eBV(e).$implicit,a=c.XpG(2);return c.Njj(a.onDeleteSubcategory(t.id))}),c.nrm(11,"fa-icon",11),c.k0s()()()}if(2&n){const e=i.$implicit,o=c.XpG(2);c.R7$(2),c.JRh(e.name),c.R7$(2),c.JRh(e.category.name),c.R7$(2),c.Y8G("selectedIcon",e.icon),c.R7$(2),c.Y8G("routerLink",c.eq3(6,O6,e.id)),c.R7$(),c.Y8G("icon",o.faPenToSquare),c.R7$(2),c.Y8G("icon",o.faTrashCan)}}function G6(n,i){if(1&n&&(c.qex(0),c.j41(1,"table")(2,"thead")(3,"tr")(4,"th"),c.EFF(5,"\u0418\u043c\u0435"),c.k0s(),c.j41(6,"th"),c.EFF(7,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),c.k0s(),c.j41(8,"th"),c.EFF(9,"\u0418\u043a\u043e\u043d\u0430"),c.k0s(),c.nrm(10,"th"),c.k0s()(),c.j41(11,"tbody"),c.DNE(12,j6,12,8,"tr",7),c.k0s()(),c.bVm()),2&n){const e=c.XpG();c.R7$(12),c.Y8G("ngForOf",e.subCategories)}}let R6=(()=>{class n{constructor(e,o,t){this.subCategoryService=e,this.router=o,this.loaderService=t,this.subCategories=[],this.faPen=h.hpd,this.faPenToSquare=M,this.faTrashCan=C,this.hideDeleteConformation=!1,this.hideMessageError=!1,this.errorMessage=""}ngOnInit(){this.loadSubCategories()}addSubCategory(){this.router.navigateByUrl("/admin/add-subcategory")}onDeleteSubcategory(e){this.subCategoryId=e,this.hideDeleteConformation=!0}handleCancel(){this.hideDeleteConformation=!1}handleDelete(){this.hideDeleteConformation=!1,this.subCategoryId&&this.subCategoryService.deleteSubCategory(this.subCategoryId).subscribe({next:e=>{this.loadSubCategories()},error:e=>{400===e.status&&(console.log(e.error),this.hideMessageError=!0,this.errorMessage=e.error)}})}loadSubCategories(){this.loaderService.showLoader(),this.subCategoryService.getAllSubCategories().subscribe({next:e=>{this.subCategories=e,this.loaderService.hideLoader()}})}handleClose(){this.hideMessageError=!1}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(v.k),c.rXU(d.Ix),c.rXU(k.Z))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-admin-subcategories-list"]],standalone:!1,decls:8,vars:4,consts:[[1,"container"],[1,"list"],[1,"title"],["type","submit","value","\u0414\u043e\u0431\u0430\u0432\u0438 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",3,"click"],[4,"ngIf"],[3,"delete","cancel","isHidden"],[3,"close","isHidden","errorMessage"],[4,"ngFor","ngForOf"],[1,"text-content"],[3,"selectedIcon"],[1,"editIcon",3,"routerLink"],[3,"icon"],[3,"click"]],template:function(o,t){1&o&&(c.nrm(0,"app-loader"),c.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),c.bIt("click",function(){return t.addSubCategory()}),c.k0s()(),c.DNE(5,G6,13,1,"ng-container",4),c.k0s()(),c.j41(6,"app-delete-conformation",5),c.bIt("delete",function(){return t.handleDelete()})("cancel",function(){return t.handleCancel()}),c.k0s(),c.j41(7,"app-error-message",6),c.bIt("close",function(){return t.handleClose()}),c.k0s()),2&o&&(c.R7$(5),c.Y8G("ngIf",t.subCategories),c.R7$(),c.Y8G("isHidden",t.hideDeleteConformation),c.R7$(),c.Y8G("isHidden",t.hideMessageError)("errorMessage",t.errorMessage))},dependencies:[u.Sq,u.bT,p.Wk,z.aY,N.M,A,P6.V,E.V],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:1px 1px 2px 2px #0000001a;font-size:16px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #f1f0f0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#dbe7eb}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 30px}.text-content[_ngcontent-%COMP%]{padding:10px 30px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f8f8}tr[_ngcontent-%COMP%]:hover{background-color:#eff3f5}.editIcon[_ngcontent-%COMP%]{padding-right:2em}.container[_ngcontent-%COMP%]{width:1400px;display:flex;justify-content:center}.title[_ngcontent-%COMP%]{justify-content:right;display:flex}.list[_ngcontent-%COMP%]{flex:0 0 80%}img[_ngcontent-%COMP%]{width:120px}input[type=submit][_ngcontent-%COMP%]:hover{cursor:pointer}input[type=submit][_ngcontent-%COMP%]{max-width:180px}@media screen and (max-width: 1400px){.container[_ngcontent-%COMP%]{width:1000px}}@media screen and (max-width: 1000px){.container[_ngcontent-%COMP%]{width:100%}}"]})}}return n})();var a1=r(4980);function D6(n,i){1&n&&(c.j41(0,"p",19),c.EFF(1," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),c.k0s())}function B6(n,i){if(1&n&&(c.qex(0),c.DNE(1,D6,2,0,"p",18),c.bVm()),2&n){c.XpG();const e=c.sdS(9);c.R7$(),c.Y8G("ngIf",null==e||null==e.errors?null:e.errors.required)}}function q6(n,i){if(1&n&&(c.j41(0,"option",20),c.EFF(1),c.k0s()),2&n){const e=i.$implicit;c.Y8G("value",e.id),c.R7$(),c.SpI(" ",e.name," ")}}function U6(n,i){1&n&&(c.j41(0,"p",19),c.EFF(1," \u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),c.k0s())}function H6(n,i){if(1&n&&(c.qex(0),c.DNE(1,U6,2,0,"p",18),c.bVm()),2&n){c.XpG();const e=c.sdS(15);c.R7$(),c.Y8G("ngIf",null==e.errors?null:e.errors.required)}}function $6(n,i){if(1&n&&(c.j41(0,"option",20),c.EFF(1),c.k0s()),2&n){const e=i.$implicit;c.Y8G("value",e),c.R7$(),c.SpI(" ",e," ")}}function Y6(n,i){1&n&&(c.j41(0,"p",19),c.EFF(1," \u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0438\u043a\u043e\u043d\u0430! "),c.k0s())}function X6(n,i){if(1&n&&(c.qex(0),c.DNE(1,Y6,2,0,"p",18),c.bVm()),2&n){c.XpG();const e=c.sdS(25);c.R7$(),c.Y8G("ngIf",null==e.errors?null:e.errors.required)}}function V6(n,i){1&n&&(c.j41(0,"p",21)(1,"span"),c.EFF(2,"\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u0438 \u0434\u0430\u043d\u043d\u0438!"),c.k0s()())}let W6=(()=>{class n{constructor(e,o,t,a){this.categoryService=e,this.subCategoryService=o,this.router=t,this.iconsService=a,this.invalid=!1,this.model={name:"",categoryId:"",urlHandle:"urlHandle",icon:""},this.iconsKeys=this.iconsService.getIconKeys(),this.selectedIconKey=""}ngOnInit(){this.categories$=this.categoryService.getAllCategories()}onFormSubmit(e){e.invalid?this.invalid=!0:(this.invalid=!1,this.subCategoryService.addCategory(this.model).subscribe({next:()=>{this.router.navigateByUrl("/admin/subcategories")},error:o=>{console.log(o)}}))}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(g.M),c.rXU(v.k),c.rXU(d.Ix),c.rXU(a1.o))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-add-subcategory"]],standalone:!1,decls:33,vars:11,consts:[["form","ngForm"],["inputSubCategoryName","ngModel"],["selectCategory","ngModel"],["selectIcon","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"field"],["for","name"],["type","text","id","subCategoryName","name","subCategoryName","required","",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","category"],["name","category","id","category","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","image"],["name","icons","id","icons","required","",3,"ngModelChange","ngModel"],["type","submit","value","\u0417\u0430\u043f\u0430\u0437\u0438"],["class","field error",4,"ngIf"],["class","error",4,"ngIf"],[1,"error"],[3,"value"],[1,"field","error"]],template:function(o,t){if(1&o){const a=c.RV6();c.j41(0,"div",4)(1,"form",5,0),c.bIt("ngSubmit",function(){c.eBV(a);const s=c.sdS(2);return c.Njj(t.onFormSubmit(s))}),c.j41(3,"h2"),c.EFF(4,"\u0414\u043e\u0431\u0430\u0432\u0438 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),c.k0s(),c.j41(5,"p",6)(6,"label",7),c.EFF(7,"\u0418\u043c\u0435"),c.k0s(),c.j41(8,"input",8,1),c.mxI("ngModelChange",function(s){return c.eBV(a),c.DH7(t.model.name,s)||(t.model.name=s),c.Njj(s)}),c.k0s()(),c.DNE(10,B6,2,1,"ng-container",9),c.j41(11,"p",6)(12,"label",10),c.EFF(13,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),c.k0s(),c.j41(14,"select",11,2),c.mxI("ngModelChange",function(s){return c.eBV(a),c.DH7(t.model.categoryId,s)||(t.model.categoryId=s),c.Njj(s)}),c.j41(16,"option",12),c.EFF(17,"---\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f---"),c.k0s(),c.DNE(18,q6,2,2,"option",13),c.nI1(19,"async"),c.k0s()(),c.DNE(20,H6,2,1,"ng-container",9),c.j41(21,"p",6)(22,"label",14),c.EFF(23,"\u0418\u043a\u043e\u043d\u0430"),c.k0s(),c.j41(24,"select",15,3),c.mxI("ngModelChange",function(s){return c.eBV(a),c.DH7(t.model.icon,s)||(t.model.icon=s),c.Njj(s)}),c.j41(26,"option",12),c.EFF(27,"---\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0438\u043a\u043e\u043d\u0430---"),c.k0s(),c.DNE(28,$6,2,2,"option",13),c.k0s()(),c.DNE(29,X6,2,1,"ng-container",9),c.j41(30,"p",6),c.nrm(31,"input",16),c.k0s(),c.DNE(32,V6,3,0,"p",17),c.k0s()()}if(2&o){const a=c.sdS(9),f=c.sdS(15),s=c.sdS(25);c.R7$(8),c.R50("ngModel",t.model.name),c.R7$(2),c.Y8G("ngIf",a.touched),c.R7$(4),c.R50("ngModel",t.model.categoryId),c.R7$(4),c.Y8G("ngForOf",c.bMT(19,9,t.categories$)),c.R7$(2),c.Y8G("ngIf",f.touched),c.R7$(4),c.R50("ngModel",t.model.icon),c.R7$(4),c.Y8G("ngForOf",t.iconsKeys),c.R7$(),c.Y8G("ngIf",s.touched),c.R7$(3),c.Y8G("ngIf",t.invalid)}},dependencies:[u.Sq,u.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,u.Jj],styles:[".form-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #aaa;box-shadow:0 0 1em #0003;margin:20px auto 0;padding:3em;max-width:600px;border-radius:3px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;flex-shrink:1;padding-top:1.5em}input[type=select][_ngcontent-%COMP%], select[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{max-width:100%}.error[_ngcontent-%COMP%]{color:red}@media screen and (max-width: 800px){.form-container[_ngcontent-%COMP%]{max-width:450px}}@media screen and (max-width: 600px){.form-container[_ngcontent-%COMP%]{padding:2em;border:none;box-shadow:none;margin:0 auto;max-width:100%}input[type=submit][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{width:100%;max-width:100%}}.add-form[_ngcontent-%COMP%]{background-color:#fff}.form-container[_ngcontent-%COMP%]{width:500px}"]})}}return n})();function K6(n,i){1&n&&(c.j41(0,"p",21),c.EFF(1," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),c.k0s())}function J6(n,i){if(1&n&&(c.qex(0),c.DNE(1,K6,2,0,"p",20),c.bVm()),2&n){c.XpG();const e=c.sdS(9);c.R7$(),c.Y8G("ngIf",null==e||null==e.errors?null:e.errors.required)}}function Z6(n,i){if(1&n&&(c.j41(0,"option",22),c.EFF(1),c.k0s()),2&n){const e=i.$implicit;c.Y8G("value",e.id),c.R7$(),c.SpI(" ",e.name," ")}}function Q6(n,i){1&n&&(c.j41(0,"p",21),c.EFF(1," \u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),c.k0s())}function c3(n,i){if(1&n&&(c.qex(0),c.DNE(1,Q6,2,0,"p",20),c.bVm()),2&n){c.XpG();const e=c.sdS(15);c.R7$(),c.Y8G("ngIf",null==e.errors?null:e.errors.required)}}function e3(n,i){if(1&n&&(c.j41(0,"option",22),c.EFF(1),c.k0s()),2&n){const e=i.$implicit;c.Y8G("value",e),c.R7$(),c.SpI(" ",e," ")}}function n3(n,i){1&n&&(c.j41(0,"p",21),c.EFF(1," \u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0438\u043a\u043e\u043d\u0430! "),c.k0s())}function t3(n,i){if(1&n&&(c.qex(0),c.DNE(1,n3,2,0,"p",20),c.bVm()),2&n){c.XpG();const e=c.sdS(25);c.R7$(),c.Y8G("ngIf",null==e.errors?null:e.errors.required)}}function o3(n,i){1&n&&(c.j41(0,"p",23)(1,"span"),c.EFF(2,"\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u0438 \u0434\u0430\u043d\u043d\u0438!"),c.k0s()())}function a3(n,i){if(1&n){const e=c.RV6();c.qex(0),c.j41(1,"form",7,1),c.bIt("ngSubmit",function(){c.eBV(e);const t=c.sdS(2),a=c.XpG();return c.Njj(a.onFormSubmit(t))}),c.j41(3,"h2"),c.EFF(4,"\u0414\u043e\u0431\u0430\u0432\u0438 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),c.k0s(),c.j41(5,"p",8)(6,"label",9),c.EFF(7,"\u0418\u043c\u0435"),c.k0s(),c.j41(8,"input",10,2),c.mxI("ngModelChange",function(t){c.eBV(e);const a=c.XpG();return c.DH7(a.subCategory.name,t)||(a.subCategory.name=t),c.Njj(t)}),c.k0s()(),c.DNE(10,J6,2,1,"ng-container",11),c.j41(11,"p",8)(12,"label",12),c.EFF(13,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),c.k0s(),c.j41(14,"select",13,3),c.mxI("ngModelChange",function(t){c.eBV(e);const a=c.XpG();return c.DH7(a.subCategory.categoryId,t)||(a.subCategory.categoryId=t),c.Njj(t)}),c.j41(16,"option",14),c.EFF(17,"---\u0418\u0437\u0431\u0435\u0440\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f---"),c.k0s(),c.DNE(18,Z6,2,2,"option",15),c.nI1(19,"async"),c.k0s()(),c.DNE(20,c3,2,1,"ng-container",11),c.j41(21,"p",8)(22,"label",16),c.EFF(23,"\u0418\u043a\u043e\u043d\u0430"),c.k0s(),c.j41(24,"select",17,4),c.mxI("ngModelChange",function(t){c.eBV(e);const a=c.XpG();return c.DH7(a.subCategory.icon,t)||(a.subCategory.icon=t),c.Njj(t)}),c.j41(26,"option",14),c.EFF(27,"---\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0438\u043a\u043e\u043d\u0430---"),c.k0s(),c.DNE(28,e3,2,2,"option",15),c.k0s()(),c.DNE(29,t3,2,1,"ng-container",11),c.j41(30,"p",8),c.nrm(31,"input",18),c.k0s(),c.DNE(32,o3,3,0,"p",19),c.k0s(),c.bVm()}if(2&n){const e=c.sdS(2),o=c.sdS(9),t=c.sdS(15),a=c.sdS(25),f=c.XpG();c.R7$(8),c.R50("ngModel",f.subCategory.name),c.R7$(2),c.Y8G("ngIf",o.touched),c.R7$(4),c.R50("ngModel",f.subCategory.categoryId),c.R7$(4),c.Y8G("ngForOf",c.bMT(19,9,f.categories$)),c.R7$(2),c.Y8G("ngIf",t.touched),c.R7$(4),c.R50("ngModel",f.subCategory.icon),c.R7$(4),c.Y8G("ngForOf",f.iconsKeys),c.R7$(),c.Y8G("ngIf",a.touched),c.R7$(3),c.Y8G("ngIf",e.invalid)}}function i3(n,i){1&n&&(c.j41(0,"div",24)(1,"div",25),c.EFF(2,"\u041f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u043d\u0435 \u0435 \u043d\u0430\u043c\u0435\u0440\u0430\u043d\u0430!"),c.k0s()())}let l3=(()=>{class n{constructor(e,o,t,a,f){this.categoryService=e,this.subCategoryService=o,this.router=t,this.route=a,this.iconsService=f,this.id=null,this.iconsKeys=this.iconsService.getIconKeys()}ngOnInit(){this.categories$=this.categoryService.getAllCategories(),this.route.paramMap.subscribe({next:e=>{this.id=e.get("id"),null!=this.id&&this.subCategoryService.getSubCategoryById(this.id).subscribe({next:o=>{this.subCategory=o}})}})}onFormSubmit(e){e.invalid||this.id&&this.subCategoryService.updateSubCategory(this.id,{name:this.subCategory?.name??"",UrlHandle:"UrlHandle",icon:this.subCategory?.icon??"",categoryId:this.subCategory?.categoryId??""}).subscribe({next:t=>{this.router.navigateByUrl("/admin/subcategories")}})}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(g.M),c.rXU(v.k),c.rXU(d.Ix),c.rXU(d.nX),c.rXU(a1.o))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-edit-subcategory"]],standalone:!1,decls:4,vars:2,consts:[["notFound",""],["form","ngForm"],["inputSubCategoryName","ngModel"],["selectCategory","ngModel"],["selectIcon","ngModel"],[1,"form-container"],[4,"ngIf","ngIfElse"],[3,"ngSubmit"],[1,"field"],["for","name"],["type","text","id","subCategoryName","name","subCategoryName","required","",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","category"],["name","category","id","category","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","image"],["name","icons","id","icons","required","",3,"ngModelChange","ngModel"],["type","submit","value","\u0417\u0430\u043f\u0430\u0437\u0438"],["class","field error",4,"ngIf"],["class","error",4,"ngIf"],[1,"error"],[3,"value"],[1,"field","error"],[1,"container"],[1,"not-found"]],template:function(o,t){if(1&o&&(c.j41(0,"div",5),c.DNE(1,a3,33,11,"ng-container",6)(2,i3,3,0,"ng-template",null,0,c.C5r),c.k0s()),2&o){const a=c.sdS(3);c.R7$(),c.Y8G("ngIf",t.subCategory)("ngIfElse",a)}},dependencies:[u.Sq,u.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,u.Jj],styles:[".form-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #aaa;box-shadow:0 0 1em #0003;margin:20px auto 0;padding:3em;max-width:600px;border-radius:3px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;flex-shrink:1;padding-top:1.5em}input[type=select][_ngcontent-%COMP%], select[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{max-width:100%}.error[_ngcontent-%COMP%]{color:red}@media screen and (max-width: 800px){.form-container[_ngcontent-%COMP%]{max-width:450px}}@media screen and (max-width: 600px){.form-container[_ngcontent-%COMP%]{padding:2em;border:none;box-shadow:none;margin:0 auto;max-width:100%}input[type=submit][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{width:100%;max-width:100%}}.not-found[_ngcontent-%COMP%]{border:1px solid rgb(145,146,122);background-color:#fcfdd6;width:100%;text-align:center;padding:2em;font-size:16px}.form-container[_ngcontent-%COMP%]{width:500px}"]})}}return n})();var m=r(8213),w=r(9533);function s3(n,i){if(1&n){const e=c.RV6();c.j41(0,"div",2)(1,"div",3)(2,"form",null,0)(4,"div")(5,"label",4),c.EFF(6," \u0414\u043e\u0431\u0430\u0432\u0438 \u0442\u0430\u0433"),c.k0s()(),c.j41(7,"div")(8,"input",5),c.mxI("ngModelChange",function(t){c.eBV(e);const a=c.XpG();return c.DH7(a.model.name,t)||(a.model.name=t),c.Njj(t)}),c.k0s()(),c.j41(9,"div",6)(10,"div")(11,"input",7),c.bIt("click",function(){c.eBV(e);const t=c.XpG();return c.Njj(t.onSubmit())}),c.k0s()(),c.j41(12,"div")(13,"input",8),c.bIt("click",function(){c.eBV(e);const t=c.XpG();return c.Njj(t.onCancel())}),c.k0s()()(),c.j41(14,"div")(15,"span",9),c.EFF(16),c.k0s()()()()()}if(2&n){const e=c.XpG();c.R7$(8),c.R50("ngModel",e.model.name),c.R7$(8),c.JRh(e.errorMessage)}}let i1=(()=>{class n{constructor(e,o){this.tagService=e,this.router=o,this.errorMessage="",this.show=new c.bkB,this.submit=new c.bkB,this.cancel=new c.bkB,this.model={name:"",id:""}}onShow(){this.show.emit()}onCancel(){this.clearForm(),this.cancel.emit()}onSubmit(){this.addTagSubcrition=this.tagService.addTag(this.model).subscribe({next:()=>{this.submit.emit(),this.clearForm()},error:e=>{400==e.status&&(this.errorMessage=e.error)}})}clearForm(){this.errorMessage="",this.model.name=""}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(w.w),c.rXU(d.Ix))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-add-tag"]],inputs:{isHidden:"isHidden"},outputs:{show:"show",submit:"submit",cancel:"cancel"},standalone:!1,decls:1,vars:1,consts:[["form","ngForm"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],["for","name"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-group"],["type","button","value","\u0417\u0430\u043f\u0430\u0437\u0438",3,"click"],["type","button","value","\u041e\u0442\u043a\u0430\u0436\u0438",3,"click"],[1,"error"]],template:function(o,t){1&o&&c.DNE(0,s3,17,2,"div",1),2&o&&c.Y8G("ngIf",t.isHidden)},dependencies:[u.bT,l.qT,l.me,l.BC,l.cb,l.vS,l.cV],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:flex-start}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;display:flex;flex-direction:column;margin-top:200px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}input[type=text][_ngcontent-%COMP%]{width:300px}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;width:100%}.error[_ngcontent-%COMP%]{color:red}"]})}}return n})();function r3(n,i){if(1&n){const e=c.RV6();c.j41(0,"div",2)(1,"div",3)(2,"form",null,0)(4,"div")(5,"label",4),c.EFF(6," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439 \u0442\u0430\u0433"),c.k0s()(),c.j41(7,"div")(8,"input",5),c.mxI("ngModelChange",function(t){c.eBV(e);const a=c.XpG();return c.DH7(a.model.name,t)||(a.model.name=t),c.Njj(t)}),c.k0s()(),c.j41(9,"div",6)(10,"div")(11,"input",7),c.bIt("click",function(){c.eBV(e);const t=c.XpG();return c.Njj(t.onSubmit())}),c.k0s()(),c.j41(12,"div")(13,"input",8),c.bIt("click",function(){c.eBV(e);const t=c.XpG();return c.Njj(t.onCancel())}),c.k0s()()(),c.j41(14,"div")(15,"span",9),c.EFF(16),c.k0s()()()()()}if(2&n){const e=c.XpG();c.R7$(8),c.R50("ngModel",e.model.name),c.R7$(8),c.JRh(e.errorMessage)}}let u3=(()=>{class n{constructor(e){this.tagService=e,this.errorMessage="",this.tagId="",this.show=new c.bkB,this.submit=new c.bkB,this.cancel=new c.bkB,this.model={name:"",id:""}}ngOnChanges(){this.tagService.getTagById(this.tagId).subscribe({next:e=>{this.model=e,this.errorMessage=""}})}onSubmit(){this.tagService.updateTag(this.tagId,this.model).subscribe({next:()=>{this.submit.emit()},error:e=>{400==e.status&&(this.errorMessage=e.error)}})}onCancel(){this.cancel.emit()}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(w.w))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-edit-tag"]],inputs:{isHidden:"isHidden",tagId:"tagId"},outputs:{show:"show",submit:"submit",cancel:"cancel"},standalone:!1,features:[c.OA$],decls:1,vars:1,consts:[["form","ngForm"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],["for","name"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-group"],["type","button","value","\u0417\u0430\u043f\u0430\u0437\u0438",3,"click"],["type","button","value","\u041e\u0442\u043a\u0430\u0436\u0438",3,"click"],[1,"error"]],template:function(o,t){1&o&&c.DNE(0,r3,17,2,"div",1),2&o&&c.Y8G("ngIf",t.isHidden)},dependencies:[u.bT,l.qT,l.me,l.BC,l.cb,l.vS,l.cV],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:flex-start}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;display:flex;flex-direction:column;margin-top:200px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}input[type=text][_ngcontent-%COMP%]{width:300px}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;width:100%}.error[_ngcontent-%COMP%]{color:red}"]})}}return n})();function f3(n,i){if(1&n){const e=c.RV6();c.j41(0,"tr")(1,"th",10),c.EFF(2),c.k0s(),c.j41(3,"th",10)(4,"a",11),c.bIt("click",function(){const t=c.eBV(e).$implicit,a=c.XpG(2);return c.Njj(a.onUpdate(t.id))}),c.nrm(5,"fa-icon",12),c.k0s(),c.j41(6,"a")(7,"fa-icon",13),c.bIt("click",function(){const t=c.eBV(e).$implicit,a=c.XpG(2);return c.Njj(a.onDelete(t.id))}),c.k0s()()()()}if(2&n){const e=i.$implicit,o=c.XpG(2);c.R7$(2),c.JRh(e.name),c.R7$(3),c.Y8G("icon",o.faPenToSquare),c.R7$(2),c.Y8G("icon",o.faTrashCan)}}function d3(n,i){if(1&n&&(c.qex(0),c.j41(1,"table")(2,"thead")(3,"tr")(4,"th"),c.EFF(5,"\u0418\u043c\u0435"),c.k0s(),c.nrm(6,"th"),c.k0s()(),c.j41(7,"tbody"),c.DNE(8,f3,8,3,"tr",9),c.k0s()(),c.bVm()),2&n){const e=c.XpG();c.R7$(8),c.Y8G("ngForOf",e.tags)}}const p3=[{path:"",component:b1,children:[{path:"",component:o1,canActivate:[m.W]},{path:"categories",component:o1,canActivate:[m.W]},{path:"add-category",component:m1,canActivate:[m.W]},{path:"add-subcategory",component:W6,canActivate:[m.W]},{path:"edit-category/:id",component:x1,canActivate:[m.W]},{path:"edit-subcategory/:id",component:l3,canActivate:[m.W]},{path:"subcategories",component:R6,canActivate:[m.W]},{path:"tags",component:(()=>{class n{constructor(e,o){this.tagService=e,this.loaderService=o,this.tags=[],this.tagId="",this.errorMessage="",this.hideAddForm=!1,this.hideUpdateForm=!1,this.hideMessageError=!1,this.hideDeleteConformation=!1,this.faPen=h.hpd,this.faPenToSquare=M,this.faTrashCan=C}ngOnInit(){this.loadTags()}addTag(){this.hideAddForm=!0}onCancel(){this.hideAddForm=!1}onSubmit(){this.loadTags()}loadTags(){this.loaderService.showLoader(),this.tagService.getAllTags().subscribe({next:e=>{this.tags=e,this.loaderService.hideLoader(),this.hideAddForm=!1,this.hideUpdateForm=!1}})}handleDelete(){this.hideDeleteConformation=!1,this.tagId&&this.tagService.deleteTag(this.tagId).subscribe({next:e=>{this.loadTags()},error:e=>{400===e.status&&(console.log(e.error),this.hideMessageError=!0,this.errorMessage=e.error)}})}onDelete(e){this.tagId=e,this.hideDeleteConformation=!0}handleCancel(){this.hideDeleteConformation=!1}onUpdateSubmit(){this.loadTags()}onUpdate(e){this.tagId=e,this.hideUpdateForm=!0}onUpdateCancel(){this.hideUpdateForm=!1}handleClose(){this.hideMessageError=!1}static{this.\u0275fac=function(o){return new(o||n)(c.rXU(w.w),c.rXU(k.Z))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-admin-tag-list"]],standalone:!1,decls:10,vars:7,consts:[[1,"container"],[1,"list"],[1,"title"],["type","submit","value","\u0414\u043e\u0431\u0430\u0432\u0438 \u0442\u0430\u0433",3,"click"],[4,"ngIf"],[3,"delete","cancel","isHidden"],[3,"submit","cancel","isHidden"],[3,"submit","cancel","tagId","isHidden"],[3,"close","isHidden","errorMessage"],[4,"ngFor","ngForOf"],[1,"text-content"],[1,"editIcon",3,"click"],[3,"icon"],[3,"click","icon"]],template:function(o,t){1&o&&(c.nrm(0,"app-loader"),c.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),c.bIt("click",function(){return t.addTag()}),c.k0s()(),c.DNE(5,d3,9,1,"ng-container",4),c.k0s()(),c.j41(6,"app-delete-conformation",5),c.bIt("delete",function(){return t.handleDelete()})("cancel",function(){return t.handleCancel()}),c.k0s(),c.j41(7,"app-add-tag",6),c.bIt("submit",function(){return t.onSubmit()})("cancel",function(){return t.onCancel()}),c.k0s(),c.j41(8,"app-edit-tag",7),c.bIt("submit",function(){return t.onUpdateSubmit()})("cancel",function(){return t.onUpdateCancel()}),c.k0s(),c.j41(9,"app-error-message",8),c.bIt("close",function(){return t.handleClose()}),c.k0s()),2&o&&(c.R7$(5),c.Y8G("ngIf",t.tags),c.R7$(),c.Y8G("isHidden",t.hideDeleteConformation),c.R7$(),c.Y8G("isHidden",t.hideAddForm),c.R7$(),c.Y8G("tagId",t.tagId)("isHidden",t.hideUpdateForm),c.R7$(),c.Y8G("isHidden",t.hideMessageError)("errorMessage",t.errorMessage))},dependencies:[u.Sq,u.bT,z.aY,N.M,A,E.V,i1,u3],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:1px 1px 2px 2px #0000001a;font-size:16px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #f1f0f0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#dbe7eb}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 30px}.text-content[_ngcontent-%COMP%]{padding:10px 30px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f8f8}tr[_ngcontent-%COMP%]:hover{background-color:#eff3f5}.editIcon[_ngcontent-%COMP%]{padding-right:2em}.container[_ngcontent-%COMP%]{width:1000px;display:flex;justify-content:center}.title[_ngcontent-%COMP%]{justify-content:right;display:flex}.list[_ngcontent-%COMP%]{flex:0 0 80%}@media screen and (max-width: 1000px){.container[_ngcontent-%COMP%]{width:100%}}"]})}}return n})(),canActivate:[m.W]},{path:"add-tag",component:i1,canActivate:[m.W]}]}];let g3=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=c.$C({type:n})}static{this.\u0275inj=c.G2t({imports:[p.iI.forChild(p3),p.iI]})}}return n})();var C3=r(3887),M3=r(8423);let z3=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=c.$C({type:n})}static{this.\u0275inj=c.G2t({imports:[u.MD,g3,z.dX,p.iI,l.YN,C3.G,M3.U]})}}return n})()}}]);